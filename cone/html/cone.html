<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><link rel='stylesheet' type='text/css' href='manpage.css'>
<!-- $Id: book.sgml,v 1.3 2004/05/30 02:43:00 mrsam Exp $ -->
<!-- Copyright 2002-2003 Double Precision, Inc.  See COPYING for -->
<!-- distribution information. -->
<meta name="MSSmartTagsPreventParsing" content="TRUE">
<link rel="icon" href="icon.gif" type="image/gif" />
<TITLE
>cone</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REL="HOME"
HREF="book.html"><LINK
REL="UP"
TITLE="Cone mail client"
HREF="cone00index.html"><LINK
REL="PREVIOUS"
TITLE="LDAP Address Books"
HREF="cone13ldapaddressbook.html"><LINK
REL="NEXT"
TITLE="leaf"
HREF="leaf.html"></HEAD
><BODY
CLASS="REFENTRY"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
></TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="cone13ldapaddressbook.html"
ACCESSKEY="P"
>&#60;&#60;&#60; Previous</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="leaf.html"
ACCESSKEY="N"
>Next &#62;&#62;&#62;</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><H1
><A
NAME="CONE"
></A
>cone</H1
><DIV
CLASS="REFNAMEDIV"
><A
NAME="AEN2217"
></A
><H2
>Name</H2
>cone&nbsp;--&nbsp;Read and send E-mail messages</DIV
><DIV
CLASS="REFSYNOPSISDIV"
><A
NAME="AEN2220"
></A
><H2
>Synopsis</H2
><P
><B
CLASS="COMMAND"
>cone</B
> [-r] [-c <TT
CLASS="REPLACEABLE"
><I
>directory</I
></TT
>]</P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN2226"
></A
><H2
>USAGE</H2
><P
><TT
CLASS="APPLICATION"
>Cone</TT
> is a console newsreader and E-mail.
It is an interactive program for reading and sending E-mail messages.
<TT
CLASS="APPLICATION"
>Cone</TT
> is designed to be intuitive and easy to learn.
Starting <TT
CLASS="APPLICATION"
>Cone</TT
> for the first time displays two links: one for the
default system mailbox, and a second link to a quick online tutorial.
The online tutorial provides a brief overview of using <TT
CLASS="APPLICATION"
>Cone</TT
> for
reading and sending E-mail.</P
><P
>Pressing <B
CLASS="KEYCAP"
>Q</B
> on most screens
exits <TT
CLASS="APPLICATION"
>Cone</TT
>.
<TT
CLASS="APPLICATION"
>Cone</TT
> tries to gracefully log out and shut down all server connections.
If <TT
CLASS="APPLICATION"
>Cone</TT
> cannot log out of a remote server because the remote server is
down, press <B
CLASS="KEYCAP"
>CTRL</B
>-<B
CLASS="KEYCAP"
>C</B
>
(after <B
CLASS="KEYCAP"
>Q</B
> to terminate <TT
CLASS="APPLICATION"
>Cone</TT
>).</P
><P
>Use <B
CLASS="KEYCAP"
>CTRL</B
>-<B
CLASS="KEYCAP"
>Z</B
> to temporarily suspend <TT
CLASS="APPLICATION"
>Cone</TT
>
and drop back to the shell prompt.
<TT
CLASS="APPLICATION"
>Cone</TT
> remains suspended in the background, and may be restarted by using
the shell's <B
CLASS="COMMAND"
>fg</B
> command.</P
><DIV
CLASS="NOTE"
><P
></P
><TABLE
CLASS="NOTE"
WIDTH="100%"
BORDER="0"
><TR
><TD
WIDTH="25"
ALIGN="CENTER"
VALIGN="TOP"
>NOTE:</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
>Connections to remote mail servers may be disconnected
for inactivity if <TT
CLASS="APPLICATION"
>Cone</TT
> remains suspended for a prolonged period of time.
When suspended, <TT
CLASS="APPLICATION"
>Cone</TT
> cannot maintain any active connections to remote
mail servers.</P
></TD
></TR
></TABLE
></DIV
><P
>The <CODE
CLASS="OPTION"
>-c</CODE
> option names a directory where <TT
CLASS="APPLICATION"
>Cone</TT
> saves its
configuration files, and defaults to <TT
CLASS="FILENAME"
>$HOME/.cone</TT
>.
The configuration directory will be created, if necessary.</P
><P
>The <CODE
CLASS="OPTION"
>-r</CODE
> option recovers a backup copy of <TT
CLASS="APPLICATION"
>Cone</TT
>'s configuration
file.
This option is primarily used when remote configuration is enabled, but
the folder that contains <TT
CLASS="APPLICATION"
>Cone</TT
>'s configuration on a remote server was deleted,
or is not available.
In all cases, <TT
CLASS="APPLICATION"
>Cone</TT
> makes a daily local configuration file backup.
The <CODE
CLASS="OPTION"
>-r</CODE
> option searches for local configuration file
backups, and offers an option to restore the backup copy.</P
><DIV
CLASS="REFSECT2"
><A
NAME="AEN2262"
></A
><H3
>Reading local mail with <TT
CLASS="APPLICATION"
>Cone</TT
></H3
><P
><TT
CLASS="APPLICATION"
>Cone</TT
> reads local mail from either maildirs (the preferred format) or
mailbox files (or "mboxes").
When mboxes are used,
<TT
CLASS="APPLICATION"
>Cone</TT
> does not read the system mailbox file directly (usually
<TT
CLASS="FILENAME"
>/var/spool/<TT
CLASS="REPLACEABLE"
><I
>something</I
></TT
></TT
>).
All messages in the system mailbox are automatically moved to
<TT
CLASS="FILENAME"
>$HOME/Inbox</TT
>, which is then accessed as if it was the
system mailbox.
Starting <TT
CLASS="APPLICATION"
>Cone</TT
> for the first time on an mbox-based system automatically
copies all existing mail from the system mailbox file
to <TT
CLASS="FILENAME"
>$HOME/Inbox</TT
>.</P
><P
>This is an intentional design choice.  Normal user application cannot
create new files in <TT
CLASS="FILENAME"
>/var/spool</TT
>; all they can do is
read the mailbox file from <TT
CLASS="FILENAME"
>/var/spool</TT
>.
Therefore, the only way to update the mailbox file is by
rewriting it from scratch (more or less).
While the mailbox file is in the process of being rewritten, if the <TT
CLASS="APPLICATION"
>Cone</TT
>
process is interrupted, or killed, the resulted in a corrupted
system mailbox.
There are way to minimize this vulnerability, but it cannot be eliminated
completely.
Some Linux kernels use an <SPAN
CLASS="QUOTE"
>"OOM killer"</SPAN
>
that may terminate any process when
the system memory is low.
There is no way to completely prevent corrupted system
mailbox files on those
kernels.</P
><P
><TT
CLASS="APPLICATION"
>Cone</TT
> uses an alternative way of updating mboxes.
<TT
CLASS="APPLICATION"
>Cone</TT
> updates mboxes by creating a new mbox file separately,
then replacing the original mbox file with the new version.
Unfortunately this cannot be done with the system mailbox file, because of
the restricted access rights on the system spool directory.
To solve this problem <TT
CLASS="APPLICATION"
>Cone</TT
> automatically copies the system mailbox file
to <TT
CLASS="FILENAME"
>$HOME/Inbox</TT
>, each time the system mailbox file is
opened and whenever new mail is available.</P
></DIV
><DIV
CLASS="REFSECT2"
><A
NAME="AEN2283"
></A
><H3
>Viewing MIME attachments</H3
><P
><TT
CLASS="APPLICATION"
>Cone</TT
> displays text and simple HTML content by itself.
Other kinds of attachments may be viewed by using a helper script.
<TT
CLASS="APPLICATION"
>Cone</TT
> invokes a helper script to open a MIME attachment.
The helper script's name is <SPAN
CLASS="QUOTE"
>"<TT
CLASS="REPLACEABLE"
><I
>TYPE</I
></TT
>.<TT
CLASS="REPLACEABLE"
><I
>SUBTYPE</I
></TT
>.filter"</SPAN
>,
where <SPAN
CLASS="QUOTE"
>"TYPE"</SPAN
> and <SPAN
CLASS="QUOTE"
>"SUBTYPE"</SPAN
> corresponds to the
MIME type and subtype, accordingly.
<TT
CLASS="APPLICATION"
>Cone</TT
> looks for helper scripts in
<TT
CLASS="FILENAME"
>$HOME/.cone</TT
> (or the directory specified by
<CODE
CLASS="OPTION"
>-c</CODE
>) and in
<TT
CLASS="FILENAME"
>@datadir@/cone</TT
>.</P
><P
>For example, a helper script named <SPAN
CLASS="QUOTE"
>"IMAGE.GIF.filter"</SPAN
>, if
installed, is invoked to process <TT
CLASS="LITERAL"
>image/gif</TT
> MIME
attachments.</P
><DIV
CLASS="REFSECT3"
><A
NAME="AEN2300"
></A
><H4
>Helper scripts</H4
><P
><TT
CLASS="APPLICATION"
>Cone</TT
> runs each helper script twice:</P
><DIV
CLASS="INFORMALEXAMPLE"
><P
></P
><A
NAME="AEN2304"
></A
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><HR><PRE
CLASS="PROGRAMLISTING"
>TYPE.SUBTYPE.filter check <TT
CLASS="REPLACEABLE"
><I
>type/subtype</I
></TT
></PRE><HR
></TD
></TR
></TABLE
><P
></P
></DIV
><P
>When the first argument is <SPAN
CLASS="QUOTE"
>"check"</SPAN
>, the helper script should
terminate with a zero exit code if it is willing to process an attachment
whose MIME type is specified by the second argument.
A script or a program that's has multiple <SPAN
CLASS="QUOTE"
>"TYPE.SUBTYPE.filter"</SPAN
>
links may use the second argument to identify the attachment's mime type.
If the helper script is unable to process the attachment, at this time,
it should terminate with a non-zero exit code.</P
><P
>The default helper script for image attachments terminates with a non-zero
exit code if the <CODE
CLASS="ENVAR"
>DISPLAY</CODE
> environment variable is not
initialized.
When invoked from an X-Windows terminal, image attachments will be
automatically displayed; and image attachments are ignored otherwise on
non-graphical consoles.</P
><DIV
CLASS="INFORMALEXAMPLE"
><P
></P
><A
NAME="AEN2312"
></A
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><HR><PRE
CLASS="PROGRAMLISTING"
>TYPE.SUBTYPE.filter filter <TT
CLASS="REPLACEABLE"
><I
>type/subtype</I
></TT
> <TT
CLASS="REPLACEABLE"
><I
>filename</I
></TT
></PRE><HR
></TD
></TR
></TABLE
><P
></P
></DIV
><P
>If the helper script initially terminates with a zero exit code, it will
be invoked again after the MIME attachment is
downloaded and decoded.
The first argument will be <SPAN
CLASS="QUOTE"
>"filter"</SPAN
>,
and the attachment's filename is specified by the third argument.</P
><DIV
CLASS="NOTE"
><P
></P
><TABLE
CLASS="NOTE"
WIDTH="100%"
BORDER="0"
><TR
><TD
WIDTH="25"
ALIGN="CENTER"
VALIGN="TOP"
>NOTE:</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
>This is a temporary file, whose extension will not necessary be the
file extension associated with this MIME type.</P
></TD
></TR
></TABLE
></DIV
><P
>The helper script should read and process the file specified by the third
argument.
<TT
CLASS="APPLICATION"
>Cone</TT
> interprets
anything the helper script writes to standard output as HTML.</P
><DIV
CLASS="NOTE"
><P
></P
><TABLE
CLASS="NOTE"
WIDTH="100%"
BORDER="0"
><TR
><TD
WIDTH="25"
ALIGN="CENTER"
VALIGN="TOP"
>NOTE:</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
><TT
CLASS="APPLICATION"
>Cone</TT
> waits until the helper script terminates before displaying the rest
of the message.
Most helper scripts should run in the background.
However, note that <TT
CLASS="APPLICATION"
>Cone</TT
> removes the temporary file when the original
message is closed; the temporary file may be removed any time after the
helper script terminates.
The helper script should make its own private copy of the file, if
necessary.</P
></TD
></TR
></TABLE
></DIV
></DIV
></DIV
><DIV
CLASS="REFSECT2"
><A
NAME="AEN2326"
></A
><H3
>Activating <ACRONYM
CLASS="ACRONYM"
>URL</ACRONYM
>s</H3
><P
><TT
CLASS="APPLICATION"
>Cone</TT
> has limited ability to activate <ACRONYM
CLASS="ACRONYM"
>URL</ACRONYM
>s in
<ACRONYM
CLASS="ACRONYM"
>HTML</ACRONYM
> messages.
<TT
CLASS="APPLICATION"
>Cone</TT
> handles <SPAN
CLASS="QUOTE"
>"mailto:"</SPAN
>
<ACRONYM
CLASS="ACRONYM"
>URL</ACRONYM
>s by itself.
For other
<ACRONYM
CLASS="ACRONYM"
>URL</ACRONYM
>s
<TT
CLASS="APPLICATION"
>Cone</TT
> runs <TT
CLASS="FILENAME"
>@datadir@/cone/<TT
CLASS="REPLACEABLE"
><I
>method</I
></TT
>.handler</TT
>
with the
<ACRONYM
CLASS="ACRONYM"
>URL</ACRONYM
> passed as an argument.</P
><P
><TT
CLASS="APPLICATION"
>Cone</TT
>
installs <TT
CLASS="FILENAME"
>http.handler</TT
>
(hard linked to <TT
CLASS="FILENAME"
>https.handler</TT
>).
This script checks if <TT
CLASS="FILENAME"
>firefox</TT
> or
<TT
CLASS="FILENAME"
>mozilla</TT
> binaries are found in the current
<CODE
CLASS="ENVAR"
>PATH</CODE
>, and runs them.</P
><DIV
CLASS="NOTE"
><P
></P
><TABLE
CLASS="NOTE"
WIDTH="100%"
BORDER="0"
><TR
><TD
WIDTH="25"
ALIGN="CENTER"
VALIGN="TOP"
>NOTE:</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
><TT
CLASS="APPLICATION"
>Cone</TT
> also looks
<TT
CLASS="FILENAME"
><TT
CLASS="REPLACEABLE"
><I
>method</I
></TT
>.handler</TT
> in
<TT
CLASS="FILENAME"
>$HOME/.cone</TT
> (or the directory specified by
<CODE
CLASS="OPTION"
>-c</CODE
>) in addition to
<TT
CLASS="FILENAME"
>@datadir@/cone</TT
>.</P
></TD
></TR
></TABLE
></DIV
></DIV
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN2356"
></A
><H2
>FILES</H2
><P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><TT
CLASS="FILENAME"
>$HOME/.cone</TT
></DT
><DD
><P
>Configuration files, and other application data.
May be modified by the <CODE
CLASS="OPTION"
>-c</CODE
> option.</P
></DD
><DT
><TT
CLASS="FILENAME"
>@datadir@/cone/IMAGE.GIF.filter</TT
>,
<TT
CLASS="FILENAME"
>@datadir@/cone/IMAGE.JPEG.filter</TT
>,
<TT
CLASS="FILENAME"
>@datadir@/cone/IMAGE.PNG.filter</TT
>,
<TT
CLASS="FILENAME"
>@datadir@/cone/APPLICATION.PDF.filter</TT
></DT
><DD
><P
>Default helper scripts distributed with <TT
CLASS="APPLICATION"
>Cone</TT
>.</P
></DD
></DL
></DIV
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN2374"
></A
><H2
>SEE ALSO</H2
><P
><A
HREF="mailtool.html"
><SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>mailtool</SPAN
>(1)</SPAN
></A
>,
<SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>sendmail</SPAN
>(8)</SPAN
>.</P
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="cone13ldapaddressbook.html"
ACCESSKEY="P"
>&#60;&#60;&#60; Previous</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="book.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="leaf.html"
ACCESSKEY="N"
>Next &#62;&#62;&#62;</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>LDAP Address Books</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="cone00index.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>leaf</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>