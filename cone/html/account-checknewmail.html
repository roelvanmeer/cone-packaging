<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><link rel='stylesheet' type='text/css' href='manpage.css'>
<!-- $Id: book.sgml,v 1.3 2004/05/30 02:43:00 mrsam Exp $ -->
<!-- Copyright 2002-2003 Double Precision, Inc.  See COPYING for -->
<!-- distribution information. -->
<meta name="MSSmartTagsPreventParsing" content="TRUE">
<link rel="icon" href="icon.gif" type="image/gif" />
<TITLE
>mail::ACCOUNT::checkNewMail</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"><LINK
REL="HOME"
HREF="book.html"><LINK
REL="UP"
TITLE="mail::ACCOUNT Synchronous API reference"
HREF="synchronous.html"><LINK
REL="PREVIOUS"
TITLE="mail::ACCOUNT::addMessage"
HREF="account-libmail-addmessage.html"><LINK
REL="NEXT"
TITLE="mail::ACCOUNT::copyMessagesTo"
HREF="account-copymessagesto.html"></HEAD
><BODY
CLASS="REFENTRY"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
></TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="account-libmail-addmessage.html"
ACCESSKEY="P"
>&#60;&#60;&#60; Previous</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="account-copymessagesto.html"
ACCESSKEY="N"
>Next &#62;&#62;&#62;</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><H1
><A
NAME="ACCOUNT-CHECKNEWMAIL"
></A
>mail::ACCOUNT::checkNewMail</H1
><DIV
CLASS="REFNAMEDIV"
><A
NAME="AEN2925"
></A
><H2
>Name</H2
>mail::ACCOUNT::checkNewMail&nbsp;--&nbsp;Check for new mail in the current folder</DIV
><DIV
CLASS="REFSYNOPSISDIV"
><A
NAME="AEN2928"
></A
><H2
>Synopsis</H2
><P
CLASS="LITERALLAYOUT"
>#include&nbsp;&#60;libmail/sync.H&#62;<br>
<br>
mail::ACCOUNT&nbsp;*mail;</P
><DIV
CLASS="FUNCSYNOPSIS"
><P
></P
><A
NAME="AEN2930"
></A
><P
><CODE
><CODE
CLASS="FUNCDEF"
>bool ok=mail-&#62;<TT
CLASS="FUNCTION"
>checkNewMail</TT
></CODE
>(void);</CODE
></P
><P
></P
></DIV
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN2935"
></A
><H2
>USAGE</H2
><P
>This method returns an indication whether the current open folder was changed.
The name is slightly misleading;
<TT
CLASS="FUNCTION"
>mail::ACCOUNT::checkNewMail</TT
> also indicates whether
messages have been removed from the folder, and whether the status of any
message has changed.</P
><P
>Most mail servers allow multiple applications to use the same folder.
Therefore, changes to the folder's contents may occur at any time.
This method should be used prior to starting any operation that intends to
use an existing message.
If
<TT
CLASS="FUNCTION"
>mail::ACCOUNT::checkNewMail</TT
> returns true, the application
should then use
<A
HREF="account-getfolderindexsize.html"
><SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>mail::ACCOUNT::getFolderIndexSize</SPAN
>(3x)</SPAN
></A
> and
<A
HREF="account-getfolderindexinfo.html"
><SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>mail::ACCOUNT::getFolderIndexInfo</SPAN
>(3x)</SPAN
></A
> to read the
current folder index, and compare the current list of message UIDs against
the previously obtained list in order to determine which messages were
added or removed from the folder.</P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN2949"
></A
><H2
>Return Codes</H2
><P
>This function returns <TT
CLASS="LITERAL"
>true</TT
> if there were any changes
to the folder's contents after the folder was opened, or since the previous
call to <TT
CLASS="FUNCTION"
>mail::ACCOUNT::checkNewMail</TT
>.</P
><DIV
CLASS="NOTE"
><P
></P
><TABLE
CLASS="NOTE"
WIDTH="100%"
BORDER="0"
><TR
><TD
WIDTH="25"
ALIGN="CENTER"
VALIGN="TOP"
>NOTE:</TD
><TD
ALIGN="LEFT"
VALIGN="TOP"
><P
>Calling
<A
HREF="account-updatefolderindexinfo.html"
><SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>mail::ACCOUNT::updateFolderIndexInfo</SPAN
>(3x)</SPAN
></A
>,
<A
HREF="account-updatefolderindexflags.html"
><SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>mail::ACCOUNT::updateFolderIndexFlags</SPAN
>(3x)</SPAN
></A
>, and all other
methods that modify the contents of the current folder will usually result
in the next
call to <TT
CLASS="FUNCTION"
>mail::ACCOUNT::checkNewMail</TT
> returning
<TT
CLASS="LITERAL"
>true</TT
>.</P
></TD
></TR
></TABLE
></DIV
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN2966"
></A
><H2
>SEE ALSO</H2
><P
><A
HREF="account-savefolderindexinfo.html"
><SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>mail::ACCOUNT::saveFolderIndexInfo</SPAN
>(3x)</SPAN
></A
>,
<A
HREF="account-getfolderindexinfo.html"
><SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>mail::ACCOUNT::getFolderIndexInfo</SPAN
>(3x)</SPAN
></A
>.</P
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="account-libmail-addmessage.html"
ACCESSKEY="P"
>&#60;&#60;&#60; Previous</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="book.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="account-copymessagesto.html"
ACCESSKEY="N"
>Next &#62;&#62;&#62;</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>mail::ACCOUNT::addMessage</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="synchronous.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>mail::ACCOUNT::copyMessagesTo</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>